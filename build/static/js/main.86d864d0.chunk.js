(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(2),o=t(16),r=t.n(o),i=(t(21),t(3)),a=t(0),u=function(e){var n=e.person,t=e.handleDeleteClick;return Object(a.jsxs)("li",{children:[n.name," ",n.number," ",Object(a.jsx)("button",{onClick:function(){return t(n)},children:"delete"})]})},s=t(4),l=t.n(s),d="/api/contacts",j=function(e){return l.a.post(d,e).then((function(e){return e.data}))},f=function(){return l.a.get(d).then((function(e){return e.data}))},h=function(e){return l.a.delete("".concat(d,"/").concat(e))},b=function(e){return l.a.put("".concat(d,"/").concat(e.id),e).then((function(e){return e.data}))},O=function(e){var n=e.text;return Object(a.jsx)("h1",{children:n})},m=function(e){var n=e.values,t=Object(i.a)(n,3),c=t[0],o=t[1],r=t[2];return Object(a.jsxs)("form",{onSubmit:c,children:[Object(a.jsxs)("div",{children:["Name: ",Object(a.jsx)("input",{onChange:o}),Object(a.jsx)("br",{}),"phno : ",Object(a.jsx)("input",{onChange:r})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",children:"add"})})]})},x=function(e){var n=e.persons,t=e.searchTerm,c=e.handleDeleteClick;return Object(a.jsx)("ul",{children:n.filter((function(e){return""===t||e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())?e:void 0})).map((function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(u,{person:e,handleDeleteClick:c},e.id)})}))})},p=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(""),u=Object(i.a)(r,2),s=u[0],l=u[1],d=Object(c.useState)(""),p=Object(i.a)(d,2),g=p[0],v=p[1],C=Object(c.useState)(""),w=Object(i.a)(C,2),k=w[0],L=w[1];Object(c.useEffect)((function(){console.log("Effect"),f().then((function(e){console.log("Promise Fulfilled!"),console.log(e),o(e)}))}),[]);return Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{text:"PhoneBook"}),"Search : ",Object(a.jsx)("input",{onChange:function(e){L(e.target.value)}}),Object(a.jsx)("h2",{children:"Add new"}),Object(a.jsx)(m,{values:[function(e){if(e.preventDefault(),t.reduce((function(e,n){return e.concat(n.name.toLowerCase())}),[]).includes(s.trim().toLowerCase())){if(!1===window.confirm("The name ".concat(s," already exists, do you want to edit the number?")))return;var n=t.find((function(e){return e.name.toLowerCase()===s.trim().toLowerCase()})),c={name:n.name,id:n.id,number:g};b(c).then((function(e){o(t.map((function(n){return n.id!==e.id?n:e})))}))}else{var r={id:t.length+1,name:s,number:g};j(r).then((function(e){o(t.concat(e))})).catch((function(e){console.log("Error in uploading data!")}))}},function(e){l(e.target.value)},function(e){v(e.target.value)}]}),Object(a.jsx)("h2",{children:"Numbers"}),Object(a.jsx)(x,{persons:t,searchTerm:k,handleDeleteClick:function(e){window.confirm("Do you really want to delete the contact ".concat(e.name," ?"))&&h(e.id).then((function(){var n=t.filter((function(n){return n.id!==e.id}));o(n)})).catch((function(){console.log("Error occured during deletion...")}))}})]})},g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),c(e),o(e),r(e),i(e)}))};r.a.render(Object(a.jsx)(p,{}),document.getElementById("root")),g()}},[[41,1,2]]]);
//# sourceMappingURL=main.86d864d0.chunk.js.map